waLBerla_add_test_executable( ProjectNormalTest ProjectNormalTest.cpp )
target_link_libraries       ( ProjectNormalTest hyteg walberla::core )
waLBerla_execute_test(NAME ProjectNormalTest)
waLBerla_execute_test(NAME ProjectNormalTestMPI COMMAND $<TARGET_FILE:ProjectNormalTest> PROCESSES 2)

if (HYTEG_BUILD_WITH_PETSC)
    waLBerla_add_test_executable( FreeslipPetscApplyTest FreeslipPetscApplyTest.cpp )
    target_link_libraries       ( FreeslipPetscApplyTest hyteg walberla::core mixed_operator opgen-diffusion )
    waLBerla_execute_test(NAME FreeslipPetscApplyTest)
endif ()

waLBerla_add_test_executable( FreeslipRectangularChannelTest FreeslipRectangularChannelTest.cpp )
target_link_libraries       ( FreeslipRectangularChannelTest hyteg walberla::core mixed_operator )
waLBerla_execute_test(NAME FreeslipRectangularChannelTest)
waLBerla_execute_test(NAME FreeslipRectangularChannelTestMPI COMMAND $<TARGET_FILE:FreeslipRectangularChannelTest> PROCESSES 2)

waLBerla_add_test_executable( RotationTest RotationTest.cpp )
target_link_libraries       ( RotationTest hyteg walberla::core )
waLBerla_execute_test(NAME RotationTest)
waLBerla_execute_test(NAME RotationTestMPI COMMAND $<TARGET_FILE:RotationTest> PROCESSES 2)
