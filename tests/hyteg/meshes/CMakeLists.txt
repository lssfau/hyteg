waLBerla_add_test_executable( RefineCoarseMeshComparisonTest RefineCoarseMeshComparisonTest.cpp )
target_link_libraries       ( RefineCoarseMeshComparisonTest hyteg walberla::core )
waLBerla_execute_test(NAME RefineCoarseMeshComparisonTest)

waLBerla_add_test_executable( RefineCoarseMeshCGTest RefineCoarseMeshCGTest.cpp )
target_link_libraries       ( RefineCoarseMeshCGTest hyteg walberla::core constant_stencil_operator )
waLBerla_execute_test(NAME RefineCoarseMeshCGTest)

waLBerla_add_test_executable( MeshInfoTest MeshInfoTest.cpp )
target_link_libraries       ( MeshInfoTest hyteg walberla::core )
waLBerla_execute_test(NAME MeshInfoTest1 COMMAND $<TARGET_FILE:MeshInfoTest>)
waLBerla_execute_test(NAME MeshInfoTest2 COMMAND $<TARGET_FILE:MeshInfoTest> PROCESSES 2)
waLBerla_add_test_executable( MeshGenTest MeshGenTest.cpp )
target_link_libraries       ( MeshGenTest hyteg walberla::core )
waLBerla_execute_test(NAME MeshInfoTest3 COMMAND $<TARGET_FILE:MeshGenTest>)
waLBerla_execute_test(NAME MeshInfoTest4 COMMAND $<TARGET_FILE:MeshGenTest> PROCESSES 2)

waLBerla_add_test_executable( 2DCoarseMeshRefinementTest 2DCoarseMeshRefinementTest.cpp )
target_link_libraries       ( 2DCoarseMeshRefinementTest hyteg walberla::core )
waLBerla_execute_test(NAME 2DCoarseMeshRefinementTest)

waLBerla_add_test_executable( TokamakLaplaceTest TokamakLaplaceTest.cpp )
target_link_libraries       ( TokamakLaplaceTest hyteg walberla::core )
if (NOT CMAKE_BUILD_TYPE STREQUAL "Debug")
    waLBerla_execute_test(NAME TokamakLaplaceTest)
    waLBerla_execute_test(NAME TokamakLaplaceTestLongrun COMMAND $<TARGET_FILE:TokamakLaplaceTest> --longrun LABELS longrun)
endif ()

waLBerla_add_test_executable( MicroMeshSmokeTest MicroMeshSmokeTest.cpp )
target_link_libraries       ( MicroMeshSmokeTest hyteg walberla::core opgen-div_k_grad )
waLBerla_execute_test(NAME MicroMeshSmokeTest)

waLBerla_add_test_executable( MicroMeshPositionTest MicroMeshPositionTest.cpp )
target_link_libraries       ( MicroMeshPositionTest hyteg walberla::core )
waLBerla_execute_test(NAME MicroMeshPositionTest)
